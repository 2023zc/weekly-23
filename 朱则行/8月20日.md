## 学习笔记/记录

1. 学习MyBatis，登录校验相关内容以及几个JavaWeb案例
1. 安装Linux环境
1. 了解Linux基础命令
1. LeetCode刷题

--------------

## 难题及解决方法

学的内容不算很难，主要是安装虚拟机还有Linux的时候总会有些问题，总之通过不停百度还是能勉强装好环境的。

--------------

## leetCode刷题

### [178. 分数排名](https://leetcode.cn/problems/rank-scores/)

表: `Scores`

```sql
+-------------+---------+
| Column Name | Type    |
+-------------+---------+
| id          | int     |
| score       | decimal |
+-------------+---------+
在 SQL 中，id 是该表的主键。
该表的每一行都包含了一场比赛的分数。Score 是一个有两位小数点的浮点值。
```

 

查询并对分数进行排序。排名按以下规则计算:

- 分数应按从高到低排列。
- 如果两个分数相等，那么两个分数的排名应该相同。
- 在排名相同的分数后，排名数应该是下一个连续的整数。换句话说，排名之间不应该有空缺的数字。

按 `score` 降序返回结果表。

查询结果格式如下所示。

 

**示例 1:**

```sql
输入: 
Scores 表:
+----+-------+
| id | score |
+----+-------+
| 1  | 3.50  |
| 2  | 3.65  |
| 3  | 4.00  |
| 4  | 3.85  |
| 5  | 4.00  |
| 6  | 3.65  |
+----+-------+
输出: 
+-------+------+
| score | rank |
+-------+------+
| 4.00  | 1    |
| 4.00  | 1    |
| 3.85  | 2    |
| 3.65  | 3    |
| 3.65  | 3    |
| 3.50  | 4    |
+-------+------+
```

**思路：** 有个排序函数 DENSE_RANK() OVER()，它在排序时不会跳过重复的序号。

**代码：**

```sql
SELECT 
score,
DENSE_RANK() OVER(
  ORDER BY score DESC
) AS "rank"
FROM Scores
```

-----------------

### [182. 查找重复的电子邮箱](https://leetcode.cn/problems/duplicate-emails/)

表: `Person`

```sql
+-------------+---------+
| Column Name | Type    |
+-------------+---------+
| id          | int     |
| email       | varchar |
+-------------+---------+
id 是该表的主键（具有唯一值的列）。
此表的每一行都包含一封电子邮件。电子邮件不包含大写字母。
```

 

编写解决方案来报告所有重复的电子邮件。 请注意，可以保证电子邮件字段不为 NULL。

以 **任意顺序** 返回结果表。

结果格式如下例。

 

**示例 1:**

```sql
输入: 
Person 表:
+----+---------+
| id | email   |
+----+---------+
| 1  | a@b.com |
| 2  | c@d.com |
| 3  | a@b.com |
+----+---------+
输出: 
+---------+
| Email   |
+---------+
| a@b.com |
+---------+
解释: a@b.com 出现了两次。
```

**思路：** 先统计每个邮箱出现的次数，然后再从中选出出现次数大于1的即可。

**代码：**

```sql
SELECT email AS Email
FROM (
  SELECT email, count(*) AS num
  from Person
  group by email
) AS TMP
WHERE num > 1;
```

